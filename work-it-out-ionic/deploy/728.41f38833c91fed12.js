"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[728],{728:(y,p,o)=>{o.r(p),o.d(p,{RoutineMakerPageModule:()=>F});var g=o(177),d=o(4341),m=o(9364),l=o(6766),f=o(8032),u=o.n(f),e=o(4438),h=o(1626),x=o(479),b=o(9156),M=o(3751);function v(n,s){1&n&&(e.j41(0,"div",23),e.nrm(1,"app-loading-spinner"),e.k0s())}function R(n,s){if(1&n){const r=e.RV6();e.j41(0,"li",24)(1,"span"),e.EFF(2),e.k0s(),e.j41(3,"button",25),e.bIt("click",function(){const i=e.eBV(r).$implicit,a=e.XpG();return e.Njj(a.addExerciseToRoutine(i.id))}),e.EFF(4,"+"),e.k0s()()}if(2&n){const r=s.$implicit;e.R7$(2),e.JRh(r.name)}}function k(n,s){if(1&n){const r=e.RV6();e.j41(0,"li",24)(1,"span"),e.EFF(2),e.k0s(),e.j41(3,"button",26),e.bIt("click",function(){const i=e.eBV(r).$implicit,a=e.XpG();return e.Njj(a.removeExerciseFromRoutine(i.id))}),e.EFF(4,"-"),e.k0s()()}if(2&n){const r=s.$implicit;e.R7$(2),e.JRh(r.name)}}const P=[{path:"",component:(()=>{var n;class s{constructor(t,i,a,c,j){this.http=t,this.route=i,this.routineService=a,this.exerciseService=c,this.router=j,this.userId=0,this.routineId=0,this.routine={id:0,name:"",total_kcal:0,description:"",types:"",exercises:[]},this.availableExercises=[],this.routineExercises=[],this.isLoading=!0}ngOnInit(){setTimeout(()=>{this.isLoading=!1},30),this.route.params.subscribe(t=>{this.routineId=t.id,this.loadRoutine(),this.loadExercises(),this.getUserId()})}getUserId(){this.http.get("/get-user-id/").subscribe(t=>{this.userId=t.user_id,console.log("User ID:",this.userId)},t=>{console.error("Error fetching user ID:",t)})}loadRoutine(){this.routineService.getRoutine(this.routineId).subscribe(t=>{this.routine=t,console.log("Routine loaded:",this.routine)},t=>{console.error("Error fetching routine:",t)})}loadExercises(){this.exerciseService.getExerciseList().subscribe(t=>{this.availableExercises=t.filter(i=>!this.routine.exercises.find(a=>a.id===i.id))},t=>{console.error("Error fetching exercises:",t)})}addExerciseToRoutine(t){this.routineService.addExerciseToRoutine(this.routineId,t).subscribe(()=>{this.loadRoutine(),this.loadExercises(),u().fire({title:"Success!",text:"Exercise added to routine.",icon:"success",confirmButtonColor:"#1d965b"})},i=>{console.error("Error adding exercise to routine:",i)})}removeExerciseFromRoutine(t){this.routineService.removeExerciseFromRoutine(this.routineId,t).subscribe(()=>{this.loadRoutine(),this.loadExercises(),u().fire({title:"Are you sure?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#1d965b",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then(i=>{i.isConfirmed&&u().fire({title:"Deleted!",text:"The exercise has been deleted.",icon:"success",confirmButtonColor:"#1d965b"})})},i=>{console.error("Error removing exercise from routine:",i)})}saveChanges(){this.routineService.updateRoutine({id:this.routine.id,name:this.routine.name,description:this.routine.description}).subscribe(()=>{u().fire({title:"Success!",text:"Routine saved succesfully.",icon:"success",confirmButtonColor:"#1d965b"}),this.loadRoutine(),this.router.navigateByUrl("/routines-list"),console.log("Changes saved successfully")},i=>{console.error("Error saving changes:",i)})}}return(n=s).\u0275fac=function(t){return new(t||n)(e.rXU(h.Qq),e.rXU(l.nX),e.rXU(x.u),e.rXU(b.G),e.rXU(l.Ix))},n.\u0275cmp=e.VBU({type:n,selectors:[["app-routine-maker"]],decls:41,vars:8,consts:[[1,"container"],["class","loading-container",4,"ngIf"],[1,"form-container"],["for","routine-name",1,"form-label"],["type","text","id","routine-name",1,"form-input",3,"ngModelChange","ngModel"],["for","routine-description",1,"form-label"],["id","routine-description",1,"form-textarea",3,"ngModelChange","ngModel"],[1,"form-button",3,"click"],[1,"row","mt-5"],[1,"col-md-6"],[1,"card-available"],[1,"card-header"],[1,"card-title"],[1,"card-content"],[1,"exercise-list"],["class","exercise-item",4,"ngFor","ngForOf"],[1,"card-routine"],[1,"additional-info"],[1,"info-item"],[1,"fas","fa-male"],[1,"fas","fa-fire"],[1,"fas","fa-dumbbell"],["href","/tracker",1,"btn","btn-primary","mt-3"],[1,"loading-container"],[1,"exercise-item"],[1,"add-button",3,"click"],[1,"remove-button",3,"click"]],template:function(t,i){1&t&&(e.j41(0,"ion-content")(1,"div",0),e.DNE(2,v,2,0,"div",1),e.j41(3,"div",2)(4,"label",3),e.EFF(5,"Name of the routine:"),e.k0s(),e.j41(6,"input",4),e.mxI("ngModelChange",function(c){return e.DH7(i.routine.name,c)||(i.routine.name=c),c}),e.k0s(),e.j41(7,"label",5),e.EFF(8,"Routine's description:"),e.k0s(),e.j41(9,"textarea",6),e.mxI("ngModelChange",function(c){return e.DH7(i.routine.description,c)||(i.routine.description=c),c}),e.k0s(),e.j41(10,"button",7),e.bIt("click",function(){return i.saveChanges()}),e.EFF(11,"Save changes"),e.k0s()(),e.j41(12,"div",8)(13,"div",9)(14,"div",10)(15,"div",11)(16,"h2",12),e.EFF(17,"Available Exercises"),e.k0s()(),e.j41(18,"div",13)(19,"ul",14),e.DNE(20,R,5,1,"li",15),e.k0s()()()(),e.j41(21,"div",9)(22,"div",16)(23,"div",11)(24,"h2",12),e.EFF(25),e.k0s()(),e.j41(26,"div",13)(27,"ul",14),e.DNE(28,k,5,1,"li",15),e.k0s(),e.j41(29,"div",17)(30,"div",18),e.EFF(31),e.nrm(32,"i",19),e.k0s(),e.j41(33,"div",18),e.EFF(34,"Required Material: Dumbbell "),e.nrm(35,"i",20),e.k0s(),e.j41(36,"div",18),e.EFF(37),e.nrm(38,"i",21),e.k0s(),e.j41(39,"a",22),e.EFF(40,"Go tracker to register your routine"),e.k0s()()()()()()()()),2&t&&(e.R7$(2),e.Y8G("ngIf",i.isLoading),e.R7$(4),e.R50("ngModel",i.routine.name),e.R7$(3),e.R50("ngModel",i.routine.description),e.R7$(11),e.Y8G("ngForOf",i.availableExercises),e.R7$(5),e.JRh(i.routine.name),e.R7$(3),e.Y8G("ngForOf",i.routine.exercises),e.R7$(3),e.SpI("Type: ",i.routine.types," "),e.R7$(6),e.SpI("Total Kcal: ",i.routine.total_kcal," "))},dependencies:[g.Sq,g.bT,d.me,d.BC,d.vS,m.W9,M.F],styles:['@charset "UTF-8";.container[_ngcontent-%COMP%]{margin-top:10vh;display:flex;flex-direction:column;align-items:center;width:100%;max-width:1600px}.loading-container[_ngcontent-%COMP%]{margin-bottom:20px}.form-container[_ngcontent-%COMP%]{width:90%;max-width:1400px;padding:20px;border:1px solid #ccc;border-radius:5px}.form-label[_ngcontent-%COMP%]{display:block;margin-bottom:5px;font-weight:700}.form-input[_ngcontent-%COMP%], .form-textarea[_ngcontent-%COMP%]{width:100%;padding:8px;margin-bottom:10px;border:1px solid #ccc;border-radius:5px}.form-button[_ngcontent-%COMP%]{width:100%;padding:10px;background-color:#1d965b;color:#fff;border:none;border-radius:5px;cursor:pointer}.card-available[_ngcontent-%COMP%]{border:1px solid #ccc;border-radius:5px;overflow:hidden;width:650px}.card-routine[_ngcontent-%COMP%]{border:1px solid #ccc;border-radius:5px;width:800px}.card-header[_ngcontent-%COMP%]{background-color:#1d965b;color:#fff;padding:10px}.card-title[_ngcontent-%COMP%]{margin:0}.card-subtitle[_ngcontent-%COMP%]{margin:5px 0}.card-content[_ngcontent-%COMP%]{padding:10px}.exercise-list[_ngcontent-%COMP%]{list-style:none;padding:0}.exercise-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:10px;border-bottom:1px solid #ccc}.add-button[_ngcontent-%COMP%], .remove-button[_ngcontent-%COMP%]{padding:5px 10px;border:none;border-radius:50%;cursor:pointer;font-size:18px;width:30px;height:30px;display:inline-flex;justify-content:center;align-items:center}.remove-button[_ngcontent-%COMP%]{background-color:red;color:#fff}.additional-info[_ngcontent-%COMP%]{background-color:#f0f0f0;padding:10px;margin-top:20px;border-radius:5px}.info-item[_ngcontent-%COMP%]{margin-bottom:5px;padding-left:30px}.btn-primary[_ngcontent-%COMP%]{background-color:#1d965b;color:#fff;border:none;border-radius:5px;padding:10px 20px;text-decoration:none;display:inline-block}']}),s})()}];let C=(()=>{var n;class s{}return(n=s).\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.$C({type:n}),n.\u0275inj=e.G2t({imports:[l.iI.forChild(P),l.iI]}),s})();var E=o(900);let F=(()=>{var n;class s{}return(n=s).\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.$C({type:n}),n.\u0275inj=e.G2t({imports:[g.MD,d.YN,m.bv,C,E.LoadingSpinnerPageModule]}),s})()}}]);