<ion-content>
  <div class="container">
    <div class="loading-container" *ngIf="isLoading">
      <app-loading-spinner></app-loading-spinner>
    </div>
    <div class="form-container">
      <label class="form-label" for="routine-name">Name of the routine:</label>
      <input class="form-input" type="text" id="routine-name" [(ngModel)]="routine.name">
      <label class="form-label" for="routine-description">Routine's description:</label>
      <textarea class="form-textarea" id="routine-description" [(ngModel)]="routine.description"></textarea>
      <button class="form-button" (click)="saveChanges()">Save changes</button>
    </div>
    <div class="row mt-5"> <!-- Agregamos la clase "row" para crear una fila -->
      <div class="col-md-6"> <!-- Cada columna ocupa la mitad del ancho en dispositivos medianos y superiores -->
        <div class="card-available">
          <div class="card-header">
            <h2 class="card-title">Available Exercises</h2>
          </div>
          <div class="card-content">
            <ion-toolbar class="filter-bar-container ml-1 mt-3">
              <ion-select placeholder="Filter by Type" [(ngModel)]="selectedType" (ionChange)="filterExercisesSelect()">
                <ion-select-option value="Leg">Leg</ion-select-option>
                <ion-select-option value="Biceps">Biceps</ion-select-option>
                <ion-select-option value="Triceps">Triceps</ion-select-option>
                <ion-select-option value="Chest">Chest</ion-select-option>
                <ion-select-option value="Back">Back</ion-select-option>
                <ion-select-option value="Shoulders">Shoulders</ion-select-option>
              </ion-select>
            </ion-toolbar>
      
            <ion-toolbar class="filter-bar-container ml-1 mt-3">
              <ion-select placeholder="Filter by Material" [(ngModel)]="selectedMaterial" (ionChange)="filterExercisesSelect()">
                <ion-select-option value="Barbell">Barbell</ion-select-option>
                <ion-select-option value="Weight Plates">Weight Plates</ion-select-option>
                <ion-select-option value="Dumbbells">Dumbbells</ion-select-option>
                <ion-select-option value="Bosu Ball">Bosu Ball</ion-select-option>
                <ion-select-option value="Cable Machine">Cable Machine</ion-select-option>
                <ion-select-option value="Kettlebells">Kettlebells</ion-select-option>
                <ion-select-option value="TRX">TRX</ion-select-option>
              </ion-select>
            </ion-toolbar>
      
            <ion-toolbar class="search-bar-container">
              <ion-searchbar [(ngModel)]="searchTerm" (ionInput)="filterExercises($event.target.value ?? '')"></ion-searchbar>
            </ion-toolbar>
          </div>
            <ul class="exercise-list">
              <li class="exercise-item" *ngFor="let exercise of availableExercises">
                <span>{{ exercise.name }}</span>
                <button class="add-button" (click)="addExerciseToRoutine(exercise.id)">+</button>
              </li>
            </ul>
          </div>
        </div>
      </div>
      <div class="col-md-6"> 
        <div class="card-routine">
          <div class="card-header">
            <h2 class="card-title">{{ routine.name }}</h2>
            
          </div>
          <div class="card-content">
            <ul class="exercise-list">
              <li class="exercise-item" *ngFor="let exercise_added of routine.exercises">
                <span>{{ exercise_added.name }}</span>
                <button class="remove-button" (click)="removeExerciseFromRoutine(exercise_added.id)">-</button>
              </li>
            </ul>
            <div class="additional-info">
              <div class="info-item">Type: {{ routine.types }} <i class="fas fa-male"></i></div>
              <div class="info-item">Required Material: Dumbbell <i class="fas fa-fire"></i></div>
              <div class="info-item">Total Kcal: {{ routine.total_kcal }} <i class="fas fa-dumbbell"></i></div>
              <a href="/tracker" class="btn btn-primary mt-3">Go tracker to register your routine</a>
            </div>
          </div>
        </div>
      </div>
    </div>
</ion-content>
